function init(){function e(){getBrowserSize(),makeAffix()}var t=require("bowser");if(t.firefox&&parseFloat(t.version)<9||t.chrome&&parseFloat(t.version)<16){var r=r?r:"https://www.support.ecojustice.ca/ea-action/action?ea.campaign.id=40221&ea.client.id=1943&ea-account.campaign.id=40221";window.location=r}setupTracking(),setupPage(),$('input[name="ea.submitted.page"]').length&&parseInt($('input[name="ea.submitted.page"]').val())>1&&("undefined"==typeof isPostaction||isPostaction===!0)?(ty=!0,setupTY()):setupAction(),modernize(),e(),$(window).on("resize",e())}function setupTracking(){grAnalytics=new GRAnalytics({form:$form,events:[]}),$(formSelector).on("formError.enbeautifier",function(e,t){$error_modal.find(".modalErrorMessage").html(t),$error_modal.modal({show:!0});var r="";t.each(function(){r+=$(this).text()});try{throw new Error("EA Processing Error")}catch(n){grAnalytics.analyticsReport("action-failure/"+$('input[name="ea.campaign.id"]').val()),graygunner.sendError(n,{data:{error:r},forms:[ENFormSelector]})}})}function makeAffix(){var e=$(".form");$(window).off(".affix"),e.removeClass("affix affix-top affix-bottom").removeData("bs.affix"),"phone"!==windowSize&&"mobile"!==windowSize&&($(window).height()>getFormHeight(e)?e.affix({offset:{top:header.outerHeight(),bottom:footer.outerHeight()}}):($("#grdonation").css("height","auto"),e.addClass("no-affix")))}function getFormHeight(e){var t=0;return e.css("height","auto"),t=e.outerHeight(),e.css("height",""),t}function modernize(){window.Modernizr.input.placeholder||$("html").addClass("no-placeholder")}function setupPage(){try{enbeautifier=new ENBeautifier({form:$(formSelector),fieldWrapperClass:formFieldWrapperClass,fieldContainerClass:formFieldContainerClass}),enbeautifier.tagFieldContainers(),enbeautifier.usePlaceholders(),enbeautifier.buildColumns({leftColumn:leftColumnSelector}),enbeautifier.moveToTargets(ENBeautifierFillers),enbeautifier.clearFillers(),enbeautifier.moveToTargets(ENBeautifierFillersContainers,!0)}catch(e){graygunner.sendError(e)}}function setupAction(){try{$(".supporters-carousel").slick({dots:!0,arrows:!0,appendArrows:".slick-list",prevArrow:'<button type="button" class="slick-prev"></button>',nextArrow:'<button type="button" class="slick-next"></button>'}),enbeautifier.addClasses(getFormClasses()),$("#Credit_Card_ExpirationDiv").html(function(e,t){return t.replace(/&nbsp;/g,"")}),formSteps=new GRSteps({activeClass:"active",useCSSAnimation:!1,indicatorTarget:".steps-list ul",steps:$("#gr_donation,#gr_extra,#gr_details,#gr_payment"),stepLabels:["Amount","Details","Billing","Payment"],addButtons:!0,target:"#window",stepHandler:[function(){return formErrors=[],$("#gr_donation").find("input,select,textarea").valid(),formErrors.length?(handleErrors(formErrors),!1):(grAnalytics.analyticsReport("payment/page1-complete"),!0)},function(){return formErrors=[],$("#gr_extra").find("input,select,textarea").valid(),formErrors.length?(handleErrors(formErrors),!1):(grAnalytics.analyticsReport("payment/page2-complete"),!0)},function(){return formErrors=[],$("#gr_details").find("input,select,textarea").valid(),formErrors.length?(handleErrors(formErrors),!1):(grAnalytics.analyticsReport("payment/page3-complete"),!0)},function(){return formErrors=[],$("#gr_payment").find("input,select,textarea").valid()?void $form.submit():(handleErrors(formErrors),!1)}]}),$("#gr_donation,#gr_extra,#gr_details,#gr_payment").on("keydown","input, select, textarea, button",function(e){if(9==e.which){var t=$(this).parents(".page").first(),r=t.find("input, select, textarea, button").filter(":last"),n=t.find("input, select, textarea, button").filter(":first");!e.shiftKey&&$(this).is(r)?(e.preventDefault(),n.focus()):e.shiftKey&&$(this).is(n)&&(e.preventDefault(),r.focus())}}),$("#window").on("stepChanged.grsteps",function(e,t){$("#window").promise().done(function(){$("#gr_donation,#gr_extra,#gr_details,#gr_payment").filter(function(e){return t.currentStep==e}).find("input, select, textarea, button").first().focus()})}),grGiving=new GRGivingSupport({form:$form,components:{country:{selector:fields.country.selector,urlParam:"country",defaultVal:"US"},region:{selector:fields.region.selector},recurrence:{selector:fields.recur_pay.selector,defaultVal:""},amount:{selector:fields.amt.selector,urlParam:"amt",name:fields.amt.name},other:{selector:'[name="Donation Amount Other"][type="text"]:not(a)',name:"Donation Amount Other",targetName:fields.amt.name,label:"Other amount"}},askStringSelector:"#donation-ranges",askStringContainerClass:"levels",recurrenceOptions:[{label:"Single",value:""},{label:"Monthly",value:"Y"}]}),$submit=$("#gr_payment").find(".btn-next").addClass("button-submit"),$form.on("change",'input[name="'+fields.amt.name+'"], input[name="Donation Amount Other"], input[name="'+fields.recur_pay.name+'"]',function(e){$submit.text("Donate "+grGiving.getAmount(!0)+(grGiving.isRecurring()?" Monthly":""))}).on("change",fields.country.selector,handleCountryChange).on("submit",sendDonation),$form.find(fields.amt.selector).trigger("change"),$submit.attr("name","submitter"),$('input[name="'+fields.amt.name+'"][type="text"]').remove(),grupsell=new GRUpsell({form:$form,recurringField:$('[name="Recurring Payment"]:not(a)'),donationAmountField:$('[name="Donation Amount"]:not(a)'),upsellContentSelector:upsellContentSelector,upsellMethod:"function",maxGift:500,calcFunction:function(e){var e=Math.floor(e),t=e,r=1.2,n=1;return t=Math.max(Math.round(Math.sqrt(e/4.33)*r),n),t=Math.min(Math.round(4.33*t),e)},declineCallback:function(){grAnalytics.analyticsReport("payment/upsell-declined")},upsellCallback:function(){grAnalytics.analyticsReport("payment/upsell-accepted")}}),$form.removeAttr("onsubmit"),$('[data-toggle="popover"]').popover(),formSteps.hideStep(1),$form.on("change",fields.inmem.selector+","+fields.matching.selector,function(e){var t=[];switch($(this).attr("name")){case fields.inmem.name:t=[".js-inmemorialDetails",".js-inmemorialInstructions",fields.inmem_type.selector,fields.inmem_name.selector,fields.inmem_recip.selector,fields.inmem_msg.selector,fields.inmem_street1.selector,fields.inmem_street2.selector,fields.inmem_city.selector,fields.inmem_region.selector,fields.inmem_postal.selector,fields.inmem_country.selector];break;case fields.matching.name:t=[".js-employerMatch",fields.employer.selector]}$(this).is(":checked")?$(t.join(",")).closest(".js-form-field-container, .form-title, .form-text").show().filter(".hide").removeClass("hide"):$(t.join(",")).closest(".js-form-field-container, .form-title, .form-text").hide(),$(fields.inmem.selector+","+fields.matching.selector).filter(":checked").length?formSteps.showStep(1):formSteps.hideStep(1)}),setupMobileButton()}catch(e){graygunner.sendError(e)}}function handleCountryChange(e){var t=$(e.target),r=t.val(),n=$form.find(fields.region.selector),i=["US"];-1!==i.indexOf(r)?(n.rules("add",{required:!0}),n.show()):(n.rules("remove","required"),n.hide(),n.val(""))}function setupTY(){try{$("body").addClass("post-action"),$transaction_details=$(".js-transactionDetails");var e={id:$transaction_details.find(".transaction_id").text(),affiliation:"Engaging Networks",revenue:$transaction_details.find(".donation_amount").text().replace(/[^0-9\.]/g,""),currency:$transaction_details.find(".currency").text().toUpperCase()},t={id:$transaction_details.find(".transaction_id").text(),name:$transaction_details.find(".campaign_name").text(),sku:$transaction_details.find(".campaign_id").text(),category:$transaction_details.find(".frequency").length&&"ACTIVE"===$transaction_details.find(".frequency").text()?"Monthly":"Single",price:$transaction_details.find(".donation_amount").text().replace(/[^0-9\.]/g,""),quantity:1},r=[t],n=require("./modules/GRSocialize"),i=getURLParameter("s");grAnalytics.analyticsReport("action-complete/"+$('input[name="ea.campaign.id"]').val()+(i?"/"+i:"")),$(leftColumnSelector).find("header .logo").after($(leftColumnSelector).children("div:first").children()),$(leftColumnSelector).children("div:first").remove(),socialbuttons=new n({target:".social",newWindow:!0,onOpen:function(e,t,r){grAnalytics.analyticsReport("share/"+e)}})}catch(a){graygunner.sendError(a)}}function setupMobileButton(){var e=$(formOpenButton);e.on("click",function(){$(formSelector).addClass("is-active")}).on("mousedown touchstart",handleDrag),$(".formClose").on("click",function(){$(this).parent().removeClass("is-active")})}function handleDrag(e){var t=$(this),r=t.parent(),n=$(window),i=n.outerHeight(),a=n.scrollTop(),o=0;$(window).on("mousemove.draggable touchmove.draggable",function(e){if(r.addClass("is-dragging"),e.originalEvent.touches)var t=e.originalEvent.touches[0];var n=e.pageY||t.pageY;o=n-a-i,$(".form").css("top",i+o),e.preventDefault()}).one("mouseup touchend touchcancel",function(){$(window).off("mousemove touchmove"),r.removeClass("is-dragging"),$(".form").removeAttr("style"),(Math.abs(o/i)>.25||Math.abs(o/i)<.1)&&$(".form").addClass("is-active")}),e.preventDefault()}function init_devtools(){}function addStringerStat(e){if("success"==e.status)try{var t=parseInt(e.data),r;$(counterSelector).text(t.toLocaleString()),$(counterRangeSelector).find("div").each(function(){var e=$(this).find(counterRangeLimitSelector).text();return t<parseInt(e)?!1:void(r=$(this).find(counterRangeTextSelector).html())}),$(counterTextSelector).html(r)}catch(n){graygunner.sendError(n,{data:{response:e,range:limit}})}}function sendDonation(e){return grAnalytics.analyticsReport("payment/donate-"+grGiving.getProcessor().toLowerCase()),e.preventDefault(),$form.off("submit"),!grGiving.isRecurring()&&grupsell.exists?grupsell.launch():$form.submit(),!1}function processForm(){$(".eaSubmitButton").prop("disabled",!0),$(".eaSubmitButton").val("Processing...")}function analyticsGetSection(e){var t=null;return $(e).children().each(function(){$(window).scrollTop()>$(this).offset().top&&(t=$(this).attr("data-section"))}),t}function raygunSendError(e,t){try{var r={};if((!t instanceof Object||"undefined"==typeof t)&&(t={}),t.forms&&t.forms.length){for(var n={},i=0;i<t.forms.length;i++){var a=$(t.forms[i]);n[t.forms[i]]=a.map(function(e,t){return[$(t).serializeArray().map(function(e){var t={};return t[e.name]=e.value,t})]})}$.extend(!0,r,{forms:n})}t.data&&$.extend(!0,r,t.data),console.log(e),console.log(r)}catch(e){"undefined"!=typeof Raygun&&Raygun.send(e)}}function raygunCheckErrorContainer(e,t){try{if($(e).length&&""!=$.trim($(e).text())){$error_modal.find(".modalErrorMessage").html($("#eaerrors").html()),$error_modal.modal({show:!0});try{throw new Error("EA Processing Error")}catch(r){grAnalytics.analyticsReport("action-failure/"+$('input[name="ea.campaign.id"]').val());var n={};n[e]=$(e).text(),raygunSendError(r,{data:n,forms:t})}}}catch(r){raygunSendError(r)}}function getURLParameter(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?null:t[1]||0}function init_validation(){try{require("jqueryvalidate");var e={invalidMonth:"Invalid month",invalidCVV:"Invalid verification number",invalidAmount:"We only accept online donations between $5 and $10,000",invalidDate:"Date is invalid",invalidEmail:"Please enter a valid email address.",invalidPcode:"Please enter a valid postcode",invalidPhone:"Please specify a valid phone number"},t=new Date;$.validator.addMethod("isValidDonation",function(e,t){e+="";var r=/^\s?([$£€]?\s{0,1}(\d+[\d\s,]+\.?\d+|\d+)|(\d+[\d\s,]+\.?\d+|\d+)\s{0,1}[$£€]?)\s?$/g;if(!r.test(e))return!1;e=parseFloat(e.replace(/[$£€,\s]/g,""));var n=5,i=1e4;return e>=n&&i>=e},e.invalidAmount),$.validator.addMethod("emailTLD",function(e,t){return e=e.replace(/\s/g,""),$(t).val(e),this.optional(t)||/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},e.invalidEmail),$.validator.addMethod("isMonth",function(e,t){return 2==e.length&&parseInt(e,10)>0&&parseInt(e,10)<=12},e.invalidMonth),$.validator.addMethod("isNowOrFutureYear",function(e,r){var n="";if(e.length>=4)n=parseInt(e,10);else{if(2!=e.length)return!1;n=parseInt("20"+e,10)}return n>=t.getFullYear()},e.invalidDate),$.validator.addMethod("isFuture",function(e,r){var n=$(r).closest("form").find("#Credit_Card_Expiration1").val();return 2===e.length&&(e="20"+e),parseInt(e)==t.getFullYear()&&parseInt(n)<t.getMonth()+1?!1:!0},e.invalidDate),$.validator.addMethod("isCVV",function(e,t){var r=/^\d{3,4}$/;return r.test(e)},e.invalidCVV),$.validator.addMethod("isPhone",function(e,t){return phone_number=phone_number.replace(/\s+/g,""),this.optional(t)||phone_number.length>9&&phone_number.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},e.invalidPhone),$.validator.addMethod("notEqual",function(e,t,r){return this.optional(t)||e!==r},jQuery.validator.format("{0} is required.")),$.validator.addMethod("isPostcodeCA",function(e,t){e=$.trim(e),$(t).val(e);var r=/^([a-zA-Z]\d[a-zA-z]( )?\d[a-zA-Z]\d)$/;return r.test(e)},e.invalidPcode),$.validator.addMethod("stripspaces",function(e,t){return e=e.replace(/\s/g,""),$(t).val(e),!0});var r={};r[fields.fname.name]="required",r[fields.lname.name]="required",r[fields.street1.name]={required:!0},r[fields.city.name]="required",r[fields.region.name]="required",r[fields.country.name]="required",r[fields.email.name]={required:!0,emailTLD:!0},r[fields.postal.name]={required:!0},r[fields.pay_type.name]="required",r[fields.cc_num.name]={required:!0,stripspaces:!0,creditcard:!0},r[fields.cc_cvv.name]={required:!0,isCVV:!0},r[fields.cc_exp.name+"1"]={required:!0,isMonth:!0},r[fields.cc_exp.name+"2"]={required:!0,isNowOrFutureYear:!0,isFuture:!0},r[fields.amt.name]={required:!0,isValidDonation:!0},r[fields.employer.name]={required:function(e){return $(fields.matching.selector).is(":checked")}},r[fields.inmem_type.name]={required:function(e){return $(fields.inmem.selector).is(":checked")},notEqual:"Gift Type"},r[fields.inmem_name.name]={required:function(e){return $(fields.inmem.selector).is(":checked")}},$form.validate({rules:r,unhighlight:function(e,t,r){var n=$(e);"checkbox"!=n.attr("type")&&(n.removeClass(r).removeClass(t),""!=n.val()&&"setcurrency"!==n.attr("id")&&n.addClass(r))},highlight:function(e,t,r){var n=$(e);"checkbox"!=n.attr("type")&&n.removeClass(r).addClass(t)},success:function(e,t){var r=$(e)},groups:{demoGroup:"First Name",ccExpiryDate:"Credit Card Expiration 1 "},invalidHandler:function(e,t){var r=t.errorList;handleErrors(r,t),validatorObj=t},showErrors:function(e,t){t.length&&(formErrors=formErrors.concat(t)),this.defaultShowErrors()},errorPlacement:function(){return!1},onkeyup:function(e,t){var r=$(e).rules();"undefined"==typeof r.isPostcodeCA&&"undefined"==typeof r.emailTLD&&9!=t.which&&$(e).valid()}})}catch(n){graygunner.sendError(n)}}function handleErrors(e,t){var r=[];$errorList=$("<ul>");var n={"Postal Code":"Postal Code",City:"City / Town","Address 1":"Address 1","Payment Type":"Payment Option",Province:"State / Province / Region","Credit Card Expiration1":"Credit Card Expiration MM","Credit Card Expiration2":"Credit Card Expiration YYYY","Credit Card Verification Value":"CVV2 Code"};for(var i in e){var a=$(e[i].element).attr("id").replace(/_/g," "),o=e[i].method,l="";if(a=n[a]||a,-1==r.indexOf(a)){r.push(a),l="required"===o&&"This field is required."===e[i].message?a+" is required.":e[i].message;var s=$("<li>").html(l);$errorList.append(s)}}$validErrModal.find(".error-list").html($errorList),$validErrModal.modal("show"),grAnalytics.analyticsReport("payment/validation-error");try{throw new Error("failed validation")}catch(d){graygunner.sendError(d,{data:{errors:$errorList.text()},forms:[ENFormSelector]})}}function getFormClasses(){var e={".eaSubmitButton":{classes:"btn btn-danger btn-lg",targetElement:".eaSubmitButton"},"#paypal":{classes:"inline-block-field half last",targetElement:"div.eaFormField"},"input.eaFormTextfield, select.eaFormSelect, select.eaSplitSelectfield, input.eaQuestionTextfield, .eaQuestionSelect, textarea.eaFormTextArea":{classes:"form-control",targetElement:"input.eaFormTextfield, select.eaFormSelect, select.eaSplitSelectfield, input.eaQuestionTextfield, .eaQuestionSelect, textarea.eaFormTextArea"}};return e[fields.currency.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.amt.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.recur_pay.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.fname.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.lname.selector]={classes:"inline-block-field-wrap half-wrap last-wrap",targetElement:"div.eaRightColumnContent"},e[fields.email.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.street1.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.street2.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.city.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.postal.selector]={classes:"inline-block-field-wrap half-wrap last-wrap",targetElement:"div.eaRightColumnContent"},e[fields.country.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.region.selector]={classes:"inline-block-field-wrap half-wrap last-wrap",targetElement:"div.eaRightColumnContent"},e[fields.phone.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.pay_type.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.cc_num.selector]={classes:"inline-block-field-wrap three-quarter-wrap",targetElement:"div.eaRightColumnContent"},e[fields.cc_cvv.selector]={classes:"inline-block-field-wrap one-quarter-wrap last-wrap",targetElement:"div.eaRightColumnContent"},e['[name="'+fields.cc_exp.name+'1"]']={classes:"inline-block-field-wrap half-wrap",targetElement:".eaSplitSelectfield"},e['[name="'+fields.cc_exp.name+'2"]']={classes:"inline-block-field-wrap half-wrap last-wrap",targetElement:".eaSplitSelectfield"},e["#"+fields.cc_exp.nameNoSpace+"1"]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e["#"+fields.cc_exp.nameNoSpace+"1"]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem.selector]={classes:"inline-block-field-wrap full-wrap hide-label",targetElement:"div.eaRightColumnContent"},e[fields.matching.selector]={classes:"inline-block-field-wrap full-wrap hide-label",targetElement:"div.eaRightColumnContent"},e[fields.inmem_name.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_name.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_recip.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_street1.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_street2.selector]={classes:"inline-block-field-wrap full-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_city.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_postal.selector]={classes:"inline-block-field-wrap half-wrap last-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_country.selector]={classes:"inline-block-field-wrap half-wrap",targetElement:"div.eaRightColumnContent"},e[fields.inmem_region.selector]={classes:"inline-block-field-wrap half-wrap last-wrap",targetElement:"div.eaRightColumnContent"},e}function getBrowserSize(){window.getComputedStyle&&(windowSize=window.getComputedStyle(document.body,":after").getPropertyValue("content"),windowSize=windowSize.replace(/["']/g,""))}var leftColumnSelector=".js-left-column",formSelector=".form",ENFormSelector=".eaform",formFieldContainerClass="js-form-field-container",formFieldContainerIgnoreClass="is-selfHandling",formFieldWrapperClass="js-form-field-wrapper",footer=$("footer"),header=$("header"),ENBeautifier=require("./modules/ENBeautifier"),enbeautifier,slick=require("slick"),hero=".hero-image",heroImage=".js-hero-image img",heroText=".js-hero-text",heroImageRatio=!1,form=".form",$form=$("form.eaform"),$firstStepForm=$("#firstStepForm"),formOpenButton=".js-formOpen",formOpenButtonLabel=".js-formOpen-label",windowSize,GRUpsell=require("./modules/GRUpsell"),grupsell,upsellContentSelector="#upsell-modal",$upsellTrackingField=$("#Other_1"),GRSteps=require("./modules/GRSteps"),formSteps,GRGivingSupport=require("./modules/GRGivingSupport"),grGiving,GRAnalytics=require("./modules/GRAnalytics"),grAnalytics,gr=require("./modules/GRHelpers"),fields=gr.buildFieldNameObject({email:"Email",fname:"First Name",lname:"Last Name",street1:"Address 1",street2:"Address2",city:"City",region:"State",postal:"Postcode",country:"Country",phone:"Phone Number",pay_type:"Payment Type",cardholder:"Card Holder Name",cc_num:"Credit Card Number",cc_cvv:"CVV Code",cc_exp:"Credit Card Expiration",amt:"Donation Amount",currency:"Currency",recur_pay:"Recurring Payment",recur_freq:"Recurring Frequency",recur_day:"Recurring day",optin:"Opt in",giftaid:"Gift Aid",ref_camp_id:"Referring Campaign Id",matching:"Matching Gift",employer:"Company Name",inmem:"In Memoriam",inmem_type:"Gift Type",inmem_name:"Honoree Name",inmem_recip:"Honoree Title",inmem_msg:"Honoree Message",inmem_street1:"Honoree Inform Address 1",inmem_street2:"Honoree Inform Address 2",inmem_city:"Honoree Inform City",inmem_region:"Honoree Inform State",inmem_postal:"Honoree Inform Post Code",inmem_country:"Honoree Inform Country"}),ENBeautifierFillers={".js-hero":".js-heroContent",".js-impact":".js-impactText",".js-campaign":".js-campaignText",".js-highlights":".js-highlightsText",".js-hero-image":".js-heroImage",".js-financial":".js-financialText",".js-supporters":".js-supportersText",".js-formOpen-label":".js-formOpen-labelText"},ENBeautifierFillersContainers={"#gr_donation":["#"+fields.recur_pay.nameNoSpace+"Div","#"+fields.amt.nameNoSpace+"Div","#"+fields.inmem.nameNoSpace+"Div","#"+fields.matching.nameNoSpace+"Div"],"#gr_extra":[".js-employerMatch","#"+fields.employer.nameNoSpace+"Div",".js-inmemorialDetails",".js-inmemorialInstructions","#"+fields.inmem_type.nameNoSpace+"Div","#"+fields.inmem_name.nameNoSpace+"Div","#"+fields.inmem_recip.nameNoSpace+"Div","#"+fields.inmem_msg.nameNoSpace+"Div","#"+fields.inmem_street1.nameNoSpace+"Div","#"+fields.inmem_street2.nameNoSpace+"Div","#"+fields.inmem_city.nameNoSpace+"Div","#"+fields.inmem_postal.nameNoSpace+"Div","#"+fields.inmem_country.nameNoSpace+"Div","#"+fields.inmem_region.nameNoSpace+"Div","#"+fields.inmem_region.nameNoSpace+"Div"],"#gr_details":[".js-billingDetails","#"+fields.fname.nameNoSpace+"Div","#"+fields.lname.nameNoSpace+"Div","#"+fields.email.nameNoSpace+"Div","#"+fields.street1.nameNoSpace+"Div","#"+fields.street2.nameNoSpace+"Div","#"+fields.city.nameNoSpace+"Div","#"+fields.postal.nameNoSpace+"Div","#"+fields.country.nameNoSpace+"Div","#"+fields.region.nameNoSpace+"Div","#"+fields.phone.nameNoSpace+"Div"],"#gr_payment":[".js-paymentDetails","#"+fields.pay_type.nameNoSpace+"Div","#"+fields.cc_num.nameNoSpace+"Div","#"+fields.cc_cvv.nameNoSpace+"Div","#"+fields.cc_exp.nameNoSpace+"Div"]},GRaygun=require("./modules/GRaygun"),raygunFilterFields=["password","credit_card",fields.cc_num.name,fields.cc_cvv.name],graygunner=new GRaygun({filter:raygunFilterFields}),$=require("jquery");require("modernizr"),require("modal"),require("tooltip"),require("popover");var $error_modal=$("#error-modal"),$validErrModal=$("#validErrModal"),formErrors=[],validatorObj;__DEV__&&init_devtools(),$(document).ready(function(){try{init(),init_validation(),handleCountryChange({target:fields.country.selector})}catch(e){graygunner.sendError(e)}});